{"version":3,"sources":["request.js","ContactDetails.js","App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","obj","post","id","put","delete","ContactDetails","contacts","deleteContact","map","person","name","number","onClick","PersonInfo","input","handler","value","onChange","styles","success","color","fontSize","borderWidth","innerWidth","borderColor","padding","borderRadius","borderStyle","failure","App","props","useState","persons","setPersons","newName","setNewName","setNumber","setSuccessMsg","useEffect","request","SuccessNotify","style","event","target","type","preventDefault","text","newNumber","find","item","per","filter","concat","updateContact","setTimeout","header","window","confirm","contact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sMACMA,EAAU,eAsBD,EAnBO,WACnB,OAAOC,IAAMC,IAAIF,GAASG,MAAK,SAAAC,GAAG,OAAEA,EAAIC,SAkB5B,EAfM,SAAAC,GAEjB,OADYL,IAAMM,KAAKP,EAAQM,GACpBH,MAAK,SAAAC,GAAG,OAAEA,EAAIC,SAad,EAVM,SAACG,EAAGF,GAErB,OADYL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAKF,GAC9BH,MAAK,SAAAC,GAAG,OAAEA,EAAIC,SAQd,EALO,SAACG,GACpB,OAAQP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAClCL,MAAK,SAAAC,GAAG,OAAEA,EAAIC,SCJDM,EAbQ,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,cAClC,OACE,6BACCD,EAASE,KAAI,SAAAC,GAAM,OAClB,+BACEA,EAAOC,KADT,KACiBD,EAAOE,OACvB,wBAAQC,QAAS,kBAAML,EAAcE,IAArC,sBAFQA,EAAOC,YCHlBG,EAAa,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QAC3B,OACE,8BACE,uBAAOC,MAAOF,EAAOG,SAAUF,OAwF/BG,EAAS,CACbC,QAAS,CACPC,MAAO,QACPC,SAAU,GACVC,YAAa,EACbC,WAAY,IACZC,YAAa,MACbC,QAAS,GACTC,aAAc,EACdC,YAAa,SAEfC,QAAS,CACPR,MAAO,MACPC,SAAU,KAICQ,EApGH,SAACC,GAAW,IAAD,EACSC,mBAAS,IADlB,mBACdC,EADc,KACLC,EADK,OAESF,mBAAS,IAFlB,mBAEdG,EAFc,KAELC,EAFK,OAGOJ,mBAAS,IAHhB,mBAGdpB,EAHc,KAGNyB,EAHM,OAIYL,mBAAS,IAJrB,mBAIdZ,EAJc,KAILkB,EAJK,KAMrBC,qBAAU,WACRC,IAAwB1C,MAAK,SAACmC,GAC5BC,EAAWD,QAEZ,IAEH,IA6CMQ,EAAgB,WACpB,OAAO,qBAAKC,MAAOvB,EAAOC,QAAnB,SAA6BA,KAGtC,OACE,gCACGA,GAAW,cAACqB,EAAD,IACZ,2CACA,yCAEE,cAAC,EAAD,CAAY1B,MAAOoB,EAASnB,QAjBb,SAAC2B,GACpBP,EAAWO,EAAMC,OAAO3B,UAiBpB,uBAHF,UAKE,cAAC,EAAD,CAAYF,MAAOH,EAAQI,QAjBV,SAAC2B,GACtBN,EAAUM,EAAMC,OAAO3B,UAiBnB,8BACE,wBAAQ4B,KAAK,SAAShC,QAvCV,SAAC8B,GACnBA,EAAMG,iBACN,IAvBoBC,EAuBdC,EAAY,CAChBrC,KAAMwB,EACNvB,OAAQA,GAzBUmC,EA2BPZ,EA1BNF,EAAQgB,MAAK,SAACC,GAAD,OAAUA,EAAKvC,OAASoC,KAUxB,SAACrC,GACrB,IAAMC,EAAOD,EAAOC,KACdR,EAAK8B,EAAQgB,MAAK,SAACE,GAAD,OAASA,EAAIxC,OAASA,KAAMR,GACpDqC,EAAqBrC,EAAIO,GAAQZ,MAAK,SAACC,GACrCmC,EAAWD,EAAQmB,QAAO,SAACD,GAAD,OAASA,EAAIhD,KAAOA,KAAIkD,OAAOtD,IACzDqC,EAAW,IACXC,EAAU,OAWRiB,CAAcN,GACdR,EAAqBQ,GAAWlD,MAAK,SAACC,GACpCmC,EAAWD,EAAQoB,OAAOtD,IAC1BuC,EAAc,sBAAD,OAAuBH,EAAvB,MACboB,YAAW,kBAAMjB,EAAc,MAAK,KACpCF,EAAW,IACXC,EAAU,QA0BV,sBAKJ,oBAAIK,MAAOvB,EAAOqC,OAAlB,qBACA,cAAC,EAAD,CAAgBjD,SAAU0B,EAASzB,cA9DjB,SAACE,GACjB+C,OAAOC,QAAP,iBAAyBhD,EAAOC,KAAhC,SACF6B,EAAsB9B,EAAOP,IAC7B+B,EAAWD,EAAQmB,QAAO,SAACO,GAAD,OAAaA,EAAQxD,KAAOO,EAAOP,e,MCzBnEyD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e6884114.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAllNumbers = () => {\n   return axios.get(baseUrl).then(res=>res.data)\n}\n\nconst createNumber = obj =>{\n    const req = axios.post(baseUrl,obj)\n    return req.then(res=>res.data)\n}\n\nconst updateNumber = (id,obj)=> {\n    const req = axios.put(`${baseUrl}/${id}`,obj)\n    return req.then(res=>res.data)\n}\n\nconst deleteContact = (id) => {\n   return  axios.delete(`${baseUrl}/${id}`)\n   .then(res=>res.data )\n}\n\nexport default {\n    getAllNumbers,\n    createNumber,\n    updateNumber,\n    deleteContact\n}","import React from 'react';\n\n\n  const ContactDetails = ({ contacts, deleteContact }) => {\n    return (\n      <ul>\n      {contacts.map(person => \n        <li key={person.name}>\n         {person.name}, {person.number}\n         <button onClick={() => deleteContact(person)}>delete</button>\n        </li>\n      )}\n   </ul>\n    );\n  };\n\n  export default ContactDetails;","import React, { useState, useEffect } from \"react\";\nimport request from \"./request\";\nimport ContactDetails from \"./ContactDetails\";\n\nconst PersonInfo = ({ input, handler }) => {\n  return (\n    <div>\n      <input value={input} onChange={handler} />\n    </div>\n  );\n};\n\nconst App = (props) => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [success, setSuccessMsg] = useState(\"\");\n\n  useEffect(() => {\n    request.getAllNumbers().then((persons) => {\n      setPersons(persons);\n    });\n  }, []);\n\n  const checkReplica = (text) => {\n    return persons.find((item) => item.name === text);\n  };\n\n  const deleteContact = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      request.deleteContact(person.id);\n      setPersons(persons.filter((contact) => contact.id !== person.id));\n    }\n  };\n\n  const updateContact = (person) => {\n    const name = person.name;\n    const id = persons.find((per) => per.name === name).id;\n    request.updateNumber(id, person).then((res) => {\n      setPersons(persons.filter((per) => per.id !== id).concat(res))\n      setNewName(\"\");\n      setNumber(\"\");\n    });\n  };\n\n  const submitInput = (event) => {\n    event.preventDefault();\n    const newNumber = {\n      name: newName,\n      number: number,\n    };\n    checkReplica(newName)\n      ? updateContact(newNumber)\n      : request.createNumber(newNumber).then((res) => {\n          setPersons(persons.concat(res));\n          setSuccessMsg(`Successfully added ${newName} `);\n          setTimeout(() => setSuccessMsg(\"\"), 2000);\n          setNewName(\"\");\n          setNumber(\"\");\n        });\n  };\n\n  const onTextChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const onChangeNumber = (event) => {\n    setNumber(event.target.value);\n  };\n\n  const SuccessNotify = () => {\n    return <div style={styles.success}>{success}</div>;\n  };\n\n  return (\n    <div>\n      {success && <SuccessNotify />}\n      <h2>Phonebook</h2>\n      <form>\n        name:\n        <PersonInfo input={newName} handler={onTextChange} />\n        <br />\n        number:\n        <PersonInfo input={number} handler={onChangeNumber} />\n        <div>\n          <button type=\"submit\" onClick={submitInput}>\n            Add\n          </button>\n        </div>\n      </form>\n      <h2 style={styles.header}>Numbers</h2>\n      <ContactDetails contacts={persons} deleteContact={deleteContact} />\n    </div>\n  );\n};\n\nconst styles = {\n  success: {\n    color: \"green\",\n    fontSize: 16,\n    borderWidth: 1,\n    innerWidth: 200,\n    borderColor: \"red\",\n    padding: 20,\n    borderRadius: 5,\n    borderStyle: \"solid\",\n  },\n  failure: {\n    color: \"red\",\n    fontSize: 30,\n  },\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}